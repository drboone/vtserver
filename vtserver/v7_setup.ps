%!PS-Adobe-3.0
%%Creator: groff version 1.09
%%CreationDate: Tue Oct 22 14:19:25 1996
%%DocumentNeededResources: font Times-Bold
%%+ font Times-Italic
%%+ font Times-Roman
%%DocumentSuppliedResources: procset grops 1.09 0
%%Pages: 8
%%PageOrder: Ascend
%%Orientation: Portrait
%%EndComments
%%BeginProlog
%%BeginResource: procset grops 1.09 0
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll 
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}bind def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/FL{
currentgray exch setgray fill setgray
}bind def
/BL/fill load def
/LW/setlinewidth load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
}bind def
/PEND{
clear
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%IncludeResource: font Times-Bold
%%IncludeResource: font Times-Italic
%%IncludeResource: font Times-Roman
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron
/scaron/zcaron/Ydieresis/trademark/quotesingle/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Times-Roman@0 ENC0/Times-Roman RE/Times-Italic@0 ENC0/Times-Italic RE
/Times-Bold@0 ENC0/Times-Bold RE
%%EndProlog
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 12/Times-Bold@0 SF(Setting Up Unix \255 Se)199.884 123 Q -.12(ve)
-.18 G(nth Edition).12 E/F1 10/Times-Italic@0 SF(Charles B. Hale)253.57
147 Q(y)-.3 E(Dennis M. Ritc)251.83 159 Q(hie)-.15 E/F2 10/Times-Roman@0
SF .779(The distrib)97 192.6 R .779(ution tape can be used only on a DE\
C PDP11/45 or PDP11/70 with RP03, RP04, RP05,)-.2 F .029
(RP06 disks and with a TU10, TU16, or TE16 tape dri)72 204.6 R -.15(ve)
-.25 G 5.029(.I).15 G 2.529(tc)-5.029 G .029
(onsists of some preliminary bootstrapping pro-)-2.529 F .533
(grams follo)72 216.6 R .533(wed by tw)-.25 F 3.033<6f8c>-.1 G .532(le \
system images; if needed, after the initial construction of the \214le \
systems indi-)-3.033 F(vidual \214les can be e)72 228.6 Q
(xtracted. \(See restor\(1\)\))-.15 E .798
(If you are set up to do it, it might be a good idea immediately to mak)
97 244.2 R -5.797 3.298(ea c)-.1 H(op)-3.298 E 3.299(yo)-.1 G 3.299(ft)
-3.299 G .799(he tape to guard)-3.299 F(ag)72 256.2 Q 2.149
(ainst disaster)-.05 F 7.149(.T)-.55 G 2.149
(he tape is 9-track 800 BPI and contains some 512-byte records follo)
-7.149 F 2.148(wed by man)-.25 F(y)-.15 E(10240-byte records.)72 268.2 Q
(There are interspersed tapemarks.)5 E .148(The system as distrib)97
283.8 R .148
(uted contains binary images of the system and all the user le)-.2 F
-.15(ve)-.25 G 2.649(lp).15 G .149(rograms, along)-2.649 F 1.436(with s\
ource and manual sections for them\212about 2100 \214les altogether)72
295.8 R 6.436(.T)-.55 G 1.435(he binary images, along with)-6.436 F .573
(other things needed to \215esh out the \214le system enough so UNIX wi\
ll run, are to be put on one \214le system)72 307.8 R .022
(called the `root \214le system'.)72 319.8 R .021
(The \214le system size required is about 5000 blocks.)5.021 F .021
(The \214le second system has)5.021 F
(all of the source and documentation.)72 331.8 Q
(Altogether it amounts to more than 18,000 512-byte blocks.)5 E/F3 10
/Times-Bold@0 SF(Making a Disk Fr)72 355.8 Q(om T)-.18 E(ape)-.92 E F2
(Perform the follo)97 371.4 Q(wing bootstrap procedure to obtain a disk\
 with a root \214le system on it.)-.25 E 15(1. Mount)72 387 R
(the magtape on dri)2.5 E .3 -.15(ve 0 a)-.25 H 2.5(tl).15 G(oad point.)
-2.5 E 15(2. Mount)72 402.6 R 2.5(af)2.5 G(ormatted disk pack on dri)
-2.5 E .3 -.15(ve 0)-.25 H(.).15 E 15(3. K)72 418.2 R .3 -.15(ey i)-.25
H 2.5(na).15 G(nd e)-2.5 E -.15(xe)-.15 G(cute at 100000).15 E 74.17
(TU10 TU16/TE16)113 436.2 R 67.5(012700 Use)108 448.2 R(the DEC R)2.5 E
(OM or other)-.4 E 67.5(172526 means)108 460.2 R(to load block 1)2.5 E
67.5(010040 \(i.e.)108 472.2 R(second block\) at 800 BPI)2.5 E 67.5
(012740 into)108 484.2 R(location 0 and transfer)2.5 E 67.5(060003 to)
108 496.2 R(0.)2.5 E(000777)108 508.2 Q 1.075(The tape should mo)97
529.8 R 1.375 -.15(ve a)-.15 H 1.075(nd the CPU loop.).15 F 1.075
(\(The TU10 code is)6.075 F F1(not)3.575 E F2 1.075(the DEC b)3.575 F
1.076(ulk R)-.2 F 1.076(OM for tape; it)-.4 F
(reads block 0, not block 1.\))97 541.8 Q 15(4. If)72 557.4 R
(you used the abo)2.5 E .3 -.15(ve T)-.15 H
(U10 code, halt and restart the CPU at 0, otherwise continue to the ne)
.15 E(xt step.)-.15 E 15(5. The)72 573 R(console should type)2.5 E F1
(Boot)133 591 Q(:)133 603 Q F2(Cop)97 621 Q 3.269(yt)-.1 G .769
(he magtape to disk by the follo)-3.269 F .769(wing procedure.)-.25 F
.769(The machine')5.769 F 3.268(sp)-.55 G .768(rintouts are sho)-3.268 F
.768(wn in italic,)-.25 F -.15(ex)97 633 S .9
(planatory comments are within \( \).).15 F -.7(Te)5.901 G .901
(rminate each line you type by carriage return or line-feed.).7 F 1.171
(There are tw)97 645 R 3.671(oc)-.1 G 1.171(lasses of tape dri)-3.671 F
-.15(ve)-.25 G 1.171
(s: the name `tm' is used for the TU10, and `ht' is used for the).15 F
.05(TU16 or TE16.)97 657 R .05(There are also tw)5.05 F 2.55(oc)-.1 G
.051
(lasses of disks: `rp' is used for the RP03, and `hp' is used for the)
-2.55 F(RP04/5/6.)97 669 Q .359(If you should mak)97 684.6 R 2.859(eam)
-.1 G(istak)-2.859 E 2.859(ew)-.1 G .359(hile typing, the character '#'\
 erases the last character typed up to the)-2.859 F(be)72 696.6 Q .323(\
ginning of the line, and the character '@' erases the entire line typed\
.)-.15 F .324(Some consoles cannot print lo)5.324 F(wer)-.25 E
(case letters, adjust the instructions accordingly)72 708.6 Q(.)-.65 E
EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(-2-)282.17 48 Q(\(bring in the program mkfs\))
108 84 Q/F1 10/Times-Italic@0 SF(:)108 96 Q F0 37.784(tm\(0,3\) \(use)
1.666 F(`ht\(0,3\)' for the TU16/TE16\))2.5 E F1(\214le system size:)108
108 Q F0(5000)2.5 E F1(\214le system:)108 120 Q F0 22.8(rp\(0,0\) \(use)
2.5 F(`hp\(0,0\)' for RP04/5/6\))2.5 E F1(isize = XX)108 132 Q(m/n = XX)
108 144 Q F0(\(after a while\))108 156 Q F1 -.2(ex)108 168 S(it called)
.2 E(Boot)108 180 Q(:)108 192 Q F0(This step mak)72 210 Q
(es an empty \214le system.)-.1 E 15(6. The)72 225.6 R(ne)2.945 E .444
(xt thing to do is to restore the data onto the ne)-.15 F 2.944(we)-.25
G .444(mpty \214le system. T)-2.944 F 2.944(od)-.8 G 2.944(ot)-2.944 G
.444(his you respond to)-2.944 F(the `)97 237.6 Q F1(:)A F0 2.5('p)C
(rinted in the last step with)-2.5 E(\(bring in the program restor\))133
255.6 Q F1(:)133 267.6 Q F0 37.784(tm\(0,4\) \(`ht\(0,4\)')1.666 F
(for TU16/TE16\))2.5 E F1(tape?)133 279.6 Q F0 18.06(tm\(0,5\) \(use)2.5
F(`ht\(0,5\)' for TU16/TE16\))2.5 E F1(disk?)133 291.6 Q F0 46.4
(rp\(0,0\) \(use)2.5 F(`hp\(0,0\)' for RP04/5/6\))2.5 E F1(Last c)133
303.6 Q(hance befor)-.15 E 2.5(es)-.37 G(cribbling on disk.)-2.5 E F0
(\(you type return\))2.5 E(\(the tape mo)133 315.6 Q -.15(ve)-.15 G
(s, perhaps 5-10 minutes pass\)).15 E F1(end of tape)133 327.6 Q(Boot)
133 339.6 Q(:)133 351.6 Q F0 -1.1(Yo)97 369.6 S 2.5(un)1.1 G .5 -.25
(ow h)-2.5 H -2.25 -.2(av e).25 H 2.5(aU)2.7 G(NIX root \214le system.)
-2.5 E/F2 10/Times-Bold@0 SF(Booting UNIX)72 393.6 Q F0 -1.1(Yo)97 409.2
S 3.477(up)1.1 G .977(robably ha)-3.477 F 1.277 -.15(ve t)-.2 H .977
(he bootstrap running, left o).15 F -.15(ve)-.15 G 3.477(rf).15 G .977
(rom the last step abo)-3.477 F -.15(ve)-.15 G 3.477(;i).15 G 3.477(fn)
-3.477 G .977(ot, repeat the boot)-3.477 F(process \(step 3\) ag)72
421.2 Q 2.5(ain. Then)-.05 F(use one of the follo)2.5 E(wing:)-.25 E F1
(:)108 439.2 Q F0 28.344(rp\(0,0\)rptmunix \(for)1.666 F
(RP03 and TU10\))2.5 E F1(:)108 451.2 Q F0 31.124
(rp\(0,0\)rphtunix \(for)1.666 F(RP03 and TU16/TE16\))2.5 E F1(:)108
463.2 Q F0 25.004(hp\(0,0\)hptmunix \(for)1.666 F(RP04/5/6 and TU10\))
2.5 E F1(:)108 475.2 Q F0 27.784(hp\(0,0\)hphtunix \(for)1.666 F
(RP04/5/6 and TU16/TE16\))2.5 E(The machine should type the follo)72
493.2 Q(wing:)-.25 E F1(mem = xxx)108 511.2 Q(#)108 523.2 Q F0(The)72
541.2 Q F1(mem)2.5 E F0(message gi)2.5 E -.15(ve)-.25 G 2.5(st).15 G
(he memory a)-2.5 E -.25(va)-.2 G(ilable to user programs in bytes.).25
E .642(UNIX is no)97 556.8 R 3.142(wr)-.25 G .642
(unning, and the `UNIX Programmer')-3.142 F 3.141(sm)-.55 G .641
(anual' applies; references belo)-3.141 F 3.141(wo)-.25 G 3.141(ft)
-3.141 G .641(he form)-3.141 F .422
(X\(Y\) mean the subsection named X in section Y of the manual.)72 568.8
R .423(The `#' is the prompt from the Shell, and)5.423 F .94
(indicates you are the super)72 580.8 R(-user)-.2 E 5.94(.T)-.55 G .94
(he user name of the super)-5.94 F .94
(-user is `root' if you should \214nd yourself in)-.2 F
(multi-user mode and need to log in; the passw)72 592.8 Q
(ord is also `root'.)-.1 E 3.07 -.8(To s)97 608.4 T 1.47
(implify your life later).8 F 3.97(,r)-.4 G 1.47
(ename the appropriate v)-3.97 F 1.47
(ersion of the system as speci\214ed abo)-.15 F 1.77 -.15(ve p)-.15 H
(lain).15 E(`unix.)72 620.4 Q 5('F)-.7 G(or e)-5.15 E
(xample, use mv \(1\) as follo)-.15 E(ws if you ha)-.25 E .3 -.15(ve a)
-.2 H 2.5(nR).15 G(P04/5/6 and a TU16 tape:)-2.5 E(mv hphtunix unix)108
638.4 Q(In the future, when you reboot, you can type just)72 656.4 Q
(hp\(0,0\)unix)108 674.4 Q(to the `:' prompt.)72 692.4 Q(\(Choose appro\
priately among `hp', `rp', `ht', `tm' according to your con\214guration\
\).)5 E -1.1(Yo)97 708 S 2.947(un)1.1 G .947 -.25(ow n)-2.947 H .446
(eed to mak).25 F 2.946(es)-.1 G .446
(ome special \214le entries in the de)-2.946 F 2.946(vd)-.25 G(irectory)
-2.946 E 2.946(.T)-.65 G .446(hese specify what sort of disk)-2.946 F
.803(you are running on, what sort of tape dri)72 720 R 1.104 -.15(ve y)
-.25 H .804(ou ha).15 F -.15(ve)-.2 G 3.304(,a).15 G .804
(nd where the \214le systems are.)-3.304 F -.15(Fo)5.804 G 3.304(rs).15
G(implicity)-3.304 E 3.304(,t)-.65 G(his)-3.304 E EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(-3-)282.17 48 Q .044(recipe creates \214x)72 84
R .044(ed de)-.15 F .044(vice names.)-.25 F .043
(These names will be used belo)5.044 F 1.343 -.65(w, a)-.25 H .043
(nd some of them are b).65 F .043(uilt into v)-.2 F(arious)-.25 E .565
(programs, so the)72 96 R 3.065(ya)-.15 G .565(re most con)-3.065 F -.15
(ve)-.4 G 3.065(nient. Ho).15 F(we)-.25 E -.15(ve)-.25 G 1.365 -.4(r, t)
.15 H .565(he names do not al).4 F -.1(wa)-.1 G .565
(ys represent the actual major and).1 F .089(minor de)72 108 R .088
(vice in the manner suggested in section 4 of the Programmer')-.25 F
2.588(sM)-.55 G 2.588(anual. F)-2.588 F .088(or e)-.15 F .088
(xample, `rp3' will be)-.15 F 1.007(used for the name of the \214le sys\
tem on which the user \214le system is put, e)72 120 R -.15(ve)-.25 G
3.507(nt).15 G 1.007(hough it might be on an)-3.507 F .101
(RP06 and is not logical de)72 132 R .101(vice 3.)-.25 F .101(Also, thi\
s sequence will put the user \214le system on the same disk dri)5.101 F
.4 -.15(ve a)-.25 H(s).15 E .028
(the root, which is not the best place if you ha)72 144 R .328 -.15
(ve m)-.2 H .028(ore than one dri).15 F -.15(ve)-.25 G 5.028(.T).15 G
.028(hus the prescription belo)-5.028 F 2.528(ws)-.25 G .028(hould be)
-2.528 F(tak)72 156 Q(en only as one e)-.1 E
(xample of where to put things.)-.15 E
(See also the section on `Disk layout' belo)5 E -.65(w.)-.25 G .97
(In an)97 171.6 R 3.47(ye)-.15 G -.15(ve)-3.72 G .97
(nt, change to the de).15 F 3.47(vd)-.25 G .97
(irectory \(cd\(1\)\) and, if you lik)-3.47 F .97(e, e)-.1 F .97
(xamine and perhaps change the)-.15 F(mak)72 183.6 Q
(e\214le there \(mak)-.1 E 2.5(e\()-.1 G(1\)\).)-2.5 E(cd /de)108 201.6
Q(v)-.25 E(cat mak)108 213.6 Q(e\214le)-.1 E(Then, use one of)72 231.6 Q
(mak)108 249.6 Q 2.5(er)-.1 G(p03)-2.5 E(mak)108 261.6 Q 2.5(er)-.1 G
(p04)-2.5 E(mak)108 273.6 Q 2.5(er)-.1 G(p05)-2.5 E(mak)108 285.6 Q 2.5
(er)-.1 G(p06)-2.5 E(depending on which disk you ha)72 303.6 Q -.15(ve)
-.2 G 5(.T).15 G(hen, use one of)-5 E(mak)108 321.6 Q 2.5(et)-.1 G(m)
-2.5 E(mak)108 333.6 Q 2.5(eh)-.1 G(t)-2.5 E .671
(depending on which tape you ha)72 351.6 R -.15(ve)-.2 G 5.671(.T).15 G
.671(he \214le `rp0' refers to the root \214le system; `sw)-5.671 F .672
(ap' to the sw)-.1 F(ap-space)-.1 E .519
(\214le system; `rp3' to the user \214le system.)72 363.6 R .519(The de)
5.519 F .519(vices `rrp0' and `rrp3' are the `ra)-.25 F .519(w' v)-.15 F
.519(ersions of the disks.)-.15 F .241(Also, `mt0' is tape dri)72 375.6
R .542 -.15(ve 0)-.25 H 2.742(,a).15 G 2.742(t8)-2.742 G .242
(00 BPI; `rmt0' is the ra)-2.742 F 2.742(wt)-.15 G .242
(ape, on which lar)-2.742 F .242(ge records can be read and writ-)-.18 F
.609(ten; `nrmt0' is ra)72 387.6 R 3.109(wt)-.15 G .609
(ape with the quirk that it does not re)-3.109 F .608
(wind on close, which is a subterfuge that permits)-.25 F
(multi\214le tapes to be handled.)72 399.6 Q .813(The ne)97 415.2 R .813
(xt thing to do is to e)-.15 F .813
(xtract the rest of the data from the tape.)-.15 F .814
(Comments are enclosed in \( \);)5.814 F(don')72 427.2 Q 3.127(tt)-.18 G
.627(ype these.)-3.127 F .627(The number in the \214rst command is the \
size of the \214le system; it dif)5.627 F .626(fers between RP03,)-.25 F
(RP04/5, and RP06.)72 439.2 Q(/etc/mkfs /de)108 457.2 Q(v/rp3 74000)-.25
E(\(153406 if on RP04/5, 322278 on RP06\))24.7 E(\(The abo)108 469.2 Q
.3 -.15(ve c)-.15 H(ommand tak).15 E(es about 2-3 minutes on an RP03\))
-.1 E(dd if=/de)108 481.2 Q(v/nrmt0 of=/de)-.25 E
(v/null bs=20b \214les=6)-.25 E(\(skip 6 \214les on the tape\))18.49 E
(restor rf /de)108 493.2 Q(v/rmt0 /de)-.25 E 13.85(v/rp3 \(restore)-.25
F(the \214le system\))2.5 E
(\(Reply with a `return' \(CR\) to the `Last chance' message\))108 505.2
Q(\(The restor tak)108 517.2 Q(es about 20-30 minutes\))-.1 E
(All of the data on the tape has been e)72 535.2 Q(xtracted.)-.15 E -1.1
(Yo)97 550.8 S 2.5(um)1.1 G
(ay at this point mount the source \214le system \(mount\(1\)\). T)-2.5
E 2.5(od)-.8 G 2.5(ot)-2.5 G(his type the follo)-2.5 E(wing:)-.25 E
(/etc/mount /de)108 568.8 Q(v/rp3 /usr)-.25 E
(The source and manual pages are no)72 586.8 Q 2.5(wa)-.25 G -.25(va)
-2.7 G(ilable in subdirectories of /usr).25 E(.)-.55 E .408(The abo)97
602.4 R .708 -.15(ve m)-.15 H .408(ount command is only needed if you i\
ntend to play around with source on a single user).15 F .063
(system, which you are going to do ne)72 614.4 R 2.562(xt. The)-.15 F
.062(\214le system is mounted automatically when multi-user mode is)
2.562 F
(entered, by a command in the \214le /etc/rc. \(See `Disk Layout' belo)
72 626.4 Q(w\).)-.25 E .46(Before an)97 642 R .461(ything further is do\
ne the bootstrap block on the disk \(block 0\) should be \214lled in.)
-.15 F .461(This is)5.461 F(done using the command)72 654 Q
(dd if=/usr/mdec/rpuboot of=/de)108 672 Q(v/rp0 count=1)-.25 E
(if you ha)72 690 Q .3 -.15(ve t)-.2 H(he RP03, or).15 E
(dd if=/usr/mdec/hpuboot of=/de)108 708 Q(v/rp0 count=1)-.25 E 1.209
(if you ha)72 726 R 1.508 -.15(ve a)-.2 H 3.708(nR).15 G 3.708
(P04/5/6. No)-3.708 F 3.708(wt)-.25 G 1.208
(he DEC disk bootstraps are usable.)-3.708 F 1.208
(See Boot Procedures\(8\) for further)6.208 F EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(-4-)282.17 48 Q(information.)72 84 Q .83
(Before UNIX is turned up completely)97 99.6 R 3.33(,af)-.65 G 1.33 -.25
(ew c)-3.33 H .83(on\214guration dependent e).25 F -.15(xe)-.15 G .83
(rcises must be performed.).15 F .502(At this point, it w)72 111.6 R
.501(ould be wise to read all of the manuals \(especially `Re)-.1 F .501
(generating System Softw)-.15 F .501(are'\) and)-.1 F
(to augment this reading with hand to hand combat.)72 123.6 Q/F1 10
/Times-Bold@0 SF(Recon\214guration)72 147.6 Q F0 .414
(The UNIX system running is con\214gured to run with the gi)97 163.2 R
-.15(ve)-.25 G 2.914(nd).15 G .414
(isk and tape, a console, and no other)-2.914 F(de)72 175.2 Q 3.257
(vice. This)-.25 F .756(is certainly not the correct con\214guration.)
3.257 F -1.1(Yo)5.756 G 3.256(uw)1.1 G .756(ill ha)-3.256 F 1.056 -.15
(ve t)-.2 H 3.256(oc).15 G .756(orrect the con\214guration table to)
-3.256 F(re\215ect the true state of your machine.)72 187.2 Q 4.983
(It is wise at this point to kno)97 202.8 R 7.484(wh)-.25 G 5.484 -.25
(ow t)-7.484 H 7.484(or).25 G 4.984(ecompile the system.)-7.484 F 4.984
(Print \(cat\(1\)\) the \214le)9.984 F(/usr/sys/conf/mak)72 214.8 Q
3.573(e\214le. This)-.1 F 1.073(\214le is input to the program `mak)
3.573 F 1.073(e\(1\)' which if in)-.1 F -.2(vo)-.4 G -.1(ke).2 G 3.572
(dw).1 G 1.072(ith `mak)-3.572 F 3.572(ea)-.1 G 1.072(ll' will)-3.572 F
(recompile all of the system source and install it in the correct libra\
ries.)72 226.8 Q 1.196
(The program mkconf\(1\) prepares \214les that describe a gi)97 242.4 R
-.15(ve)-.25 G 3.696(nc).15 G 1.196(on\214guration \(See mkconf\(1\)\).)
-3.696 F 1.197(In the)6.197 F .66(/usr/sys/conf directory)72 254.4 R
3.16(,t)-.65 G .66(he four \214les)-3.16 F/F2 10/Times-Italic@0 SF(xy)
3.16 E F0 .659(conf were input to mkconf to produce the four v)B .659
(ersions of the sys-)-.15 F(tem)72 266.4 Q F2(xy)2.73 E F0 2.73
(unix. Pick)B .231
(the appropriate one, and edit it to add lines describing your o)2.73 F
.231(wn con\214guration.)-.25 F(\(Remem-)5.231 E 2.036
(ber the console type)72 278.4 R 2.036
(writer is automatically included; don')-.25 F 4.535(tc)-.18 G 2.035
(ount it in the kl speci\214cation.\))-4.535 F 2.035(Then run)7.035 F
.103(mkconf; it will generate the \214les l.s \(trap v)72 290.4 R .103
(ectors\) c.c \(con\214guration table\), and mch0.s.)-.15 F -.8(Ta)5.103
G .303 -.1(ke a c).8 H .103(areful look).1 F .467(at l.s to mak)72 302.4
R 2.967(es)-.1 G .467(ure that all the de)-2.967 F .467
(vices that you ha)-.25 F .766 -.15(ve a)-.2 H .466
(re assembled in the correct interrupt v).15 F 2.966(ectors. If)-.15 F
(your)2.966 E(con\214guration is non-standard, you will ha)72 314.4 Q .3
-.15(ve t)-.2 H 2.5(om).15 G(odify l.s to \214t your con\214guration.)
-2.5 E 1.176(There are certain magic numbers and con\214guration parame\
ters imbedded in v)97 330 R 1.176(arious de)-.25 F 1.176(vice dri)-.25 F
-.15(ve)-.25 G(rs).15 E .443(that you may w)72 342 R .442
(ant to change.)-.1 F .442(The de)5.442 F .442
(vice addresses of each de)-.25 F .442(vice are de\214ned in each dri)
-.25 F -.15(ve)-.25 G 4.042 -.55(r. I).15 H 2.942(nc).55 G .442(ase you)
-2.942 F(ha)72 354 Q .72 -.15(ve a)-.2 H .72 -.15(ny n).15 H .42
(on-standard de).15 F .42
(vice addresses, just change the address and recompile.)-.25 F .42
(\(The de)5.42 F .42(vice dri)-.25 F -.15(ve)-.25 G .42(rs are in).15 F
(the directory /usr/sys/de)72 366 Q -.65(v.)-.25 G(\)).65 E
(The DC11 dri)97 381.6 Q -.15(ve)-.25 G 2.5(ri).15 G 2.5(ss)-2.5 G
(et to run 4 lines.)-2.5 E(This can be changed in dc.c.)5 E .571
(The DH11 dri)97 397.2 R -.15(ve)-.25 G 3.071(ri).15 G 3.071(ss)-3.071 G
.571(et to handle 3 DH11')-3.071 F 3.071(sw)-.55 G .57
(ith a full complement of 48 lines.)-3.071 F .57(If you ha)5.57 F .87
-.15(ve l)-.2 H .57(ess, or).15 F(more, you may w)72 409.2 Q
(ant to edit dh.c.)-.1 E(The DN11 dri)97 424.8 Q -.15(ve)-.25 G 2.5(rw)
.15 G(ill handle 4 DN')-2.5 E 2.5(s. Edit)-.55 F(dn.c.)2.5 E
(The DU11 dri)97 440.4 Q -.15(ve)-.25 G 2.5(rc).15 G
(an only handle a single DU.)-2.5 E(This cannot be easily changed.)5 E
.946(The KL/DL dri)97 456 R -.15(ve)-.25 G 3.446(ri).15 G 3.446(ss)
-3.446 G .946
(et up to run a single DL11-A, -B, or -C \(the console\) and no DL11-E')
-3.446 F 3.447(s. T)-.55 F(o)-.8 E 1.172(change this, edit kl.c to ha)72
468 R 1.471 -.15(ve N)-.2 H 1.171
(KL11 re\215ect the total number of DL11-ABC').15 F 3.671(sa)-.55 G
1.171(nd NDL11 to re\215ect the)-3.671 F(number of DL11-E')72 480 Q 2.5
(s. So)-.55 F -.1(fa)2.5 G 2.5(ra).1 G 2.5(st)-2.5 G(he dri)-2.5 E -.15
(ve)-.25 G 2.5(ri).15 G 2.5(sc)-2.5 G(oncerned, the dif)-2.5 E
(ference between the de)-.25 E(vices is their address.)-.25 E .904
(All of the disk and tape dri)97 495.6 R -.15(ve)-.25 G .905(rs \(rf.c,\
 rk.c, rp.c, tm.c, tc.c, hp.c, ht.c\) are set up to run 8 dri).15 F -.15
(ve)-.25 G 3.405(sa).15 G(nd)-3.405 E .105
(should not need to be changed.)72 507.6 R .104(The big disk dri)5.104 F
-.15(ve)-.25 G .104(rs \(rp.c and hp.c\) ha).15 F .404 -.15(ve p)-.2 H
.104(artition tables in them which you).15 F(may w)72 519.6 Q(ant to e)
-.1 E(xperiment with.)-.15 E .577(After all the corrections ha)97 535.2
R .877 -.15(ve b)-.2 H .577(een made, use `mak).15 F .578
(e\(1\)' to recompile the system \(or recompile indi-)-.1 F 1.116
(vidually if you wish: use the mak)72 547.2 R 1.116
(e\214le as a guide\).)-.1 F 1.115(If you compiled indi)6.116 F
(vidually)-.25 E 3.615(,s)-.65 G 1.115(ay `mak)-3.615 F 3.615(eu)-.1 G
1.115(nix' in the)-3.615 F .823(directory /usr/sys/conf.)72 559.2 R .824
(The \214nal object \214le \(unix\) should be mo)5.823 F -.15(ve)-.15 G
3.324(dt).15 G 3.324(ot)-3.324 G .824
(he root, and then booted to try it)-3.324 F 2.73(out. It)72 571.2 R
.229(is best to name it /nunix so as not to destro)2.73 F 2.729(yt)-.1 G
.229(he w)-2.729 F .229(orking system until you')-.1 F .229
(re sure it does w)-.5 F 2.729(ork. See)-.1 F .298
(Boot Procedures\(8\) for a discussion of booting.)72 583.2 R 2.798
(Note: before)5.298 F .298(taking the system do)2.798 F .298(wn, al)-.25
F -.1(wa)-.1 G .298(ys \(!!\) perform).1 F 2.5(as)72 595.2 S
(ync\(1\) to force delayed output to the disk.)-2.5 E F1(Special Files)
72 619.2 Q F0(Ne)97 634.8 Q .132
(xt you must put in special \214les for the ne)-.15 F 2.632(wd)-.25 G
-.25(ev)-2.632 G .132(ices in the directory /de).25 F 2.632(vu)-.25 G
.132(sing mknod\(1\).)-2.632 F .132(Print the)5.132 F .073
(con\214guration \214le c.c created abo)72 646.8 R -.15(ve)-.15 G 5.073
(.T).15 G .073(his is the major de)-5.073 F .074(vice switch of each de)
-.25 F .074(vice class \(block and charac-)-.25 F 2.784(ter\). There)72
658.8 R .284(is one line for each de)2.784 F .283(vice con\214gured in \
your system and a null line for place holding for those)-.25 F(de)72
670.8 Q 1.404(vices not con\214gured.)-.25 F 1.404
(The essential block special \214les were installed abo)6.404 F -.15(ve)
-.15 G 3.904(;f).15 G 1.404(or an)-3.904 F 3.904(yn)-.15 G 1.904 -.25
(ew d)-3.904 H -.25(ev).25 G 1.404(ices, the).25 F .36(major de)72 682.8
R .36(vice number is selected by counting the line number \(from zero\)\
 of the de)-.25 F(vice')-.25 E 2.859(se)-.55 G .359(ntry in the block)
-2.859 F .76(con\214guration table.)72 694.8 R .76
(Thus the \214rst entry in the table bde)5.76 F .761(vsw w)-.25 F .761
(ould be major de)-.1 F .761(vice zero.)-.25 F .761(This number is)5.761
F(also printed in the table along the right mar)72 706.8 Q(gin.)-.18 E
EP
%%Page: 5 5
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(-5-)282.17 48 Q .102(The minor de)97 84 R .101
(vice is the dri)-.25 F .401 -.15(ve n)-.25 H(umber).15 E 2.601(,u)-.4 G
.101(nit number or partition as described under each de)-2.601 F .101
(vice in sec-)-.25 F .317(tion 4 of the manual.)72 96 R -.15(Fo)5.317 G
2.817(rt).15 G .318(apes where the unit is dial selectable, a special \
\214le may be made for each possi-)-2.817 F(ble selection.)72 108 Q -1.1
(Yo)5 G 2.5(uc)1.1 G(an also add entries for other disk dri)-2.5 E -.15
(ve)-.25 G(s.).15 E .942(In reality)97 123.6 R 3.442(,d)-.65 G -.25(ev)
-3.442 G .942(ice names are arbitrary).25 F 3.441(.I)-.65 G 3.441(ti)
-3.441 G 3.441(su)-3.441 G .941(sually con)-3.441 F -.15(ve)-.4 G .941
(nient to ha).15 F 1.241 -.15(ve a s)-.2 H .941(ystem for deri).15 F
.941(ving names,)-.25 F -.2(bu)72 135.6 S 2.5(ti).2 G 2.5(td)-2.5 G
(oesn')-2.5 E 2.5(th)-.18 G -2.25 -.2(av e)-2.5 H
(to be the one presented abo)2.7 E -.15(ve)-.15 G(.).15 E .876
(Some further notes on minor de)97 151.2 R .876(vice numbers.)-.25 F
.876(The hp dri)5.876 F -.15(ve)-.25 G 3.377(ru).15 G .877
(ses the 0100 bit of the minor de)-3.377 F(vice)-.25 E 1.239
(number to indicate whether or not to interlea)72 163.2 R 1.539 -.15
(ve a \214)-.2 H 1.239(le system across more than one ph).15 F 1.238
(ysical de)-.05 F 1.238(vice. See)-.25 F .46(hp\(4\) for more detail.)72
175.2 R .46(The tm and ht dri)5.46 F -.15(ve)-.25 G .46
(rs use the 0200 bit to indicate whether or not to re).15 F .46
(wind the tape)-.25 F .465(when it is closed. The 0100 bit indicates th\
e density of the tape on TU16 dri)72 187.2 R -.15(ve)-.25 G 2.964(s. By)
.15 F(con)2.964 E -.15(ve)-.4 G .464(ntion, tape spe-).15 F .579
(cial \214les with the 0200 bit on ha)72 199.2 R .879 -.15(ve a)-.2 H
3.079(n`).15 G .579(n' prepended to their name, as in /de)-3.079 F .579
(v/nmt0 or /de)-.25 F 3.079(v/nrmt1. Ag)-.25 F(ain,)-.05 E
(see tm\(4\) or ht\(4\).)72 211.2 Q .293(The naming of character de)97
226.8 R .293(vices is similar to block de)-.25 F 2.792(vices. Here)-.25
F .292(the names are e)2.792 F -.15(ve)-.25 G 2.792(nm).15 G .292
(ore arbitrary)-2.792 F -.15(ex)72 238.8 S 1.117(cept that de).15 F
1.118(vices meant to be used for teletype access should \(to a)-.25 F
-.2(vo)-.2 G 1.118(id confusion, no other reason\) be).2 F .375
(named /de)72 250.8 R .375
(v/ttyX, where X is some string \(as in `00' or `library'\).)-.25 F .375
(The \214les console, mem, kmem, and null)5.375 F
(are already correctly con\214gured.)72 262.8 Q .386
(The disk and magtape dri)97 278.4 R -.15(ve)-.25 G .386(rs pro).15 F
.387(vide a `ra)-.15 F .387(w' interf)-.15 F .387(ace to the de)-.1 F
.387(vice which pro)-.25 F .387(vides direct transmis-)-.15 F .956
(sion between the user')72 290.4 R 3.456(sc)-.55 G .956(ore and the de)
-3.456 F .956(vice and allo)-.25 F .956(ws reading or writing lar)-.25 F
.956(ge records.)-.18 F .955(The ra)5.956 F 3.455(wd)-.15 G -.25(ev)
-3.455 G(ice).25 E 1.262(counts as a character de)72 302.4 R 1.262
(vice, and should ha)-.25 F 1.562 -.15(ve t)-.2 H 1.263
(he name of the corresponding standard block special \214le).15 F .607
(with `r' prepended.)72 314.4 R .607(\(The `n' for no re)5.607 F .607
(wind tapes violates this rule.\))-.25 F .606(Thus the ra)5.607 F 3.106
(wm)-.15 G .606(agtape \214les w)-3.106 F .606(ould be)-.1 F(called /de)
72 326.4 Q 2.5(v/rmtX. These)-.25 F(special \214les should be made.)2.5
E 2.087(When all the special \214les ha)97 342 R 2.387 -.15(ve b)-.2 H
2.087(een created, care should be tak).15 F 2.087
(en to change the access modes)-.1 F
(\(chmod\(1\)\) on these \214les to appropriate v)72 354 Q
(alues \(probably 600 or 644\).)-.25 E/F1 10/Times-Bold@0 SF(Floating P)
72 378 Q(oint)-.2 E F0 1.382(UNIX only supports \(and really e)97 393.6
R 1.382(xpects to ha)-.15 F -.15(ve)-.2 G 3.881(\)t).15 G 1.381
(he FP11-B/C \215oating point unit.)-3.881 F -.15(Fo)6.381 G 3.881(rm)
.15 G(achines)-3.881 E .448(without this hardw)72 405.6 R .449
(are, there is a user subroutine a)-.1 F -.25(va)-.2 G .449
(ilable that will catch ille).25 F -.05(ga)-.15 G 2.949(li).05 G .449
(nstruction traps and inter)-2.949 F(-)-.2 E 3.285
(pret \215oating point operations.)72 417.6 R 3.285
(\(See fptrap\(3\).\))8.285 F 4.885 -.8(To i)8.285 H 3.285
(nstall this subroutine in the library).8 F 5.785(,c)-.65 G 3.285
(hange to)-5.785 F(/usr/src/libfpsim and e)72 429.6 Q -.15(xe)-.15 G
(cute the shell \214les).15 E(compall)133 447.6 Q(mklib)133 459.6 Q .583
(The system as deli)72 477.6 R -.15(ve)-.25 G .584(red does not ha).15 F
.884 -.15(ve t)-.2 H .584(his code included in an).15 F 3.084(yc)-.15 G
.584(ommand, although the operating system)-3.084 F
(adapts automatically to the presence or absence of the FP11.)72 489.6 Q
(Ne)97 505.2 Q .304(xt, a \215oating-point v)-.15 F .303(ersion of the \
C compiler in /usr/src/cmd/c should be compiled using the com-)-.15 F
(mands:)72 517.2 Q(cd /usr/src/cmd/c)108 535.2 Q(mak)108 547.2 Q 2.5(ef)
-.1 G(c1)-2.5 E(mv fc1 /lib/fc1)108 559.2 Q .185(This allo)72 577.2 R
.185(ws programs with \215oating point constants to be compiled.)-.25 F
1.786 -.8(To c)5.185 H .186(ompile \215oating point programs use).8 F
.046(the `\255f)72 589.2 R 2.546<278d>.55 G .046(ag to cc\(1\). This \
\215ag ensures that the \215oating point interpreter is loaded with the\
 program and that)-2.546 F(the \215oating point v)72 601.2 Q
(ersion of `cc' is used.)-.15 E F1 -.18(Ti)72 625.2 S(me Con).18 E -.1
(ve)-.4 G(rsion).1 E F0 .79(If your machine is not in the Eastern time \
zone, you must edit \(ed\(1\)\) the \214le /usr/sys/h/param.h to)97
640.8 R 2.231(re\215ect your local time.)72 652.8 R 2.231
(The manifest `TIMEZONE' should be changed to re\215ect the time dif)
7.231 F(ference)-.25 E .126(between local time and GMT in minutes.)72
664.8 R -.15(Fo)5.126 G 2.626(rE).15 G(ST)-2.626 E 2.626(,t)-.74 G .127
(his is 5*60; for PST it w)-2.626 F .127(ould be 8*60.)-.1 F(Finally)
5.127 E 2.627(,t)-.65 G .127(here is)-2.627 F 2.998(a`)72 676.8 S
(DSTFLA)-2.998 E .498
(G' manifest; when it is 1 it causes the time to shift to Daylight Sa)
-.4 F .497(vings automatically between)-.2 F .348(the last Sundays in A\
pril and October \(or other algorithms in 1974 and 1975\).)72 688.8 R
.349(Normally this will not ha)5.349 F -.15(ve)-.2 G .091(to be reset.)
72 700.8 R .091(When the needed changes are done, recompile and load th\
e system using mak)5.091 F .09(e\(1\) and install it.)-.1 F 1.072(\(As \
a general rule, when a system header \214le is changed, the entire syst\
em should be recompiled.)72 712.8 R 1.073(As it)6.073 F 1.106(happens, \
the only uses of these \215ags are in /usr/sys/sys/sys4.c, so if this i\
s all that w)72 724.8 R 1.106(as changed it alone)-.1 F EP
%%Page: 6 6
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(-6-)282.17 48 Q(needs to be recompiled.\))72 84
Q -1.1(Yo)97 99.6 S 3.495(um)1.1 G .995(ay also w)-3.495 F .995(ant to \
look at timezone\(3\) \(/usr/src/libc/gen/timezone.c\) to see if the na\
me of your)-.1 F .455(timezone is in its internal table.)72 111.6 R .454
(If needed, edit the changes in.)5.455 F .454
(After timezone.c has been edited it should)5.454 F .827
(be compiled and installed in its library)72 123.6 R 5.827(.\()-.65 G
.828
(See /usr/src/libc/\(mklib and compall\)\) Then you should \(at your)
-5.827 F(leisure\) recompile and reinstall all programs that use it \(s\
uch as date\(1\)\).)72 135.6 Q/F1 10/Times-Bold@0 SF(Disk Lay)72 159.6 Q
(out)-.25 E F0 .102(If there are to be more \214le systems mounted than\
 just the root and /usr)97 175.2 R 2.602(,u)-.4 G .102
(se mkfs\(1\) to create an)-2.602 F 2.602(yn)-.15 G -.25(ew)-2.602 G
1.099(\214le system and put its mounting in the \214le /etc/rc \(see in\
it\(8\) and mount\(1\)\).)72 187.2 R(\(Y)6.1 E 1.1
(ou might look at /etc/rc)-1.1 F(an)72 199.2 Q(yw)-.15 E
(ay to see what has been pro)-.1 E(vided for you.\))-.15 E .567
(There are tw)97 214.8 R 3.067(oc)-.1 G .567
(onsiderations in deciding ho)-3.067 F 3.067(wt)-.25 G 3.067(oa)-3.067 G
.567(djust the arrangement of things on your disks: the)-3.067 F .403(m\
ost important is making sure there is adequate space for what is requir\
ed; secondarily)72 226.8 R 2.903(,t)-.65 G .403(hroughput should)-2.903
F .947(be maximized.)72 238.8 R(Sw)5.947 E .946
(ap space is a critical parameter)-.1 F 5.946(.T)-.55 G .946
(he system as distrib)-5.946 F .946(uted has 8778 \(hpunix\) or 2000)-.2
F .822(\(rpunix\) blocks for sw)72 250.8 R .822(ap space.)-.1 F .822
(This should be lar)5.822 F .822(ge enough so running out of sw)-.18 F
.823(ap space ne)-.1 F -.15(ve)-.25 G 3.323(ro).15 G(ccurs.)-3.323 E
-1.1(Yo)72 262.8 S 2.5(um)1.1 G(ay w)-2.5 E
(ant to change these if local wisdom indicates otherwise.)-.1 E .618
(The system as distrib)97 278.4 R .618
(uted has all of the binaries in /bin.)-.2 F .618
(Most of them should be mo)5.618 F -.15(ve)-.15 G 3.117(dt).15 G 3.117
(o/)-3.117 G(usr/bin,)-3.117 E(lea)72 290.4 Q .405(ving only the ones r\
equired for system maintenance \(such as icheck, dcheck, cc, ed, restor)
-.2 F 2.905(,e)-.4 G .405(tc.\) and the)-2.905 F .307(most hea)72 302.4
R .307(vily used in /bin.)-.2 F .307
(This will speed things up a bit if you ha)5.307 F .607 -.15(ve o)-.2 H
.306(nly one disk, and also free up space).15 F
(on the root \214le system for temporary \214les. \(See belo)72 314.4 Q
(w\).)-.25 E(Man)97 330 Q 3.599(yc)-.15 G 1.099
(ommon system programs \(C, the editor)-3.599 F 3.599(,t)-.4 G 1.099
(he assembler etc.\))-3.599 F 1.1(create intermediate \214les in the)
6.099 F .889(/tmp directory)72 342 R 3.389(,s)-.65 G 3.389(ot)-3.389 G
.888(he \214le system where this is stored also should be made lar)
-3.389 F .888(ge enough to accommodate)-.18 F .927(most high-w)72 354 R
.927(ater marks.)-.1 F .927(If you lea)5.927 F 1.227 -.15(ve t)-.2 H
.928(he root \214le system as distrib).15 F .928(uted \(e)-.2 F .928
(xcept as discussed abo)-.15 F -.15(ve)-.15 G 3.428(\)t).15 G(here)
-3.428 E .437(should be no problem.)72 366 R .437
(All the programs that create \214les in /tmp tak)5.437 F 2.937(ec)-.1 G
.437(are to delete them, b)-2.937 F .437(ut most are not)-.2 F .605
(immune to e)72 378 R -.15(ve)-.25 G .605(nts lik).15 F 3.105(eb)-.1 G
.605(eing hung up upon, and can lea)-3.105 F .905 -.15(ve d)-.2 H(re).15
E 3.105(gs. The)-.15 F .606(directory should be e)3.106 F .606
(xamined e)-.15 F -.15(ve)-.25 G(ry).15 E
(so often and the old \214les deleted.)72 390 Q .742(Exhaustion of user)
97 405.6 R .742(-\214le space is certain to occur no)-.2 F 3.241(wa)-.25
G .741(nd then; the only mechanisms for controlling)-3.241 F .387(this \
phenomenon are occasional use of du\(1\), df\(1\), quot\(1\), threateni\
ng messages of the day)72 417.6 R 2.887(,a)-.65 G .387(nd personal)
-2.887 F(letters.)72 429.6 Q .989(The ef)97 445.2 R(\214cienc)-.25 E
3.489(yw)-.15 G .988(ith which UNIX is able to use the CPU is lar)-3.489
F .988(gely dictated by the con\214guration of)-.18 F .349
(disk controllers.)72 457.2 R -.15(Fo)5.349 G 2.849(rg).15 G .349
(eneral time-sharing applications, the best strate)-2.849 F .35
(gy is to try to split user \214les, the root)-.15 F
(directory \(including the /tmp directory\) and the sw)72 469.2 Q
(ap area among three controllers.)-.1 E .106(Once you ha)97 484.8 R .406
-.15(ve d)-.2 H .106(ecided ho).15 F 2.606(wt)-.25 G 2.606(om)-2.606 G
(ak)-2.606 E 2.606(eb)-.1 G .106(est use of your hardw)-2.606 F .106
(are, the question is ho)-.1 F 2.605(wt)-.25 G 2.605(oi)-2.605 G .105
(nitialize it.)-2.605 F(If)5.105 E 1.74(you ha)72 496.8 R 2.04 -.15
(ve t)-.2 H 1.74(he equipment, the best w).15 F 1.74(ay to mo)-.1 F 2.04
-.15(ve a \214)-.15 H 1.74
(le system is to dump it \(dump\(1\)\) to magtape, use).15 F .227
(mkfs\(1\) to create the ne)72 508.8 R 2.727<778c>-.25 G .226
(le system, and restore \(restor\(1\)\) the tape.)-2.727 F .226
(If for some reason you don')5.226 F 2.726(tw)-.18 G .226(ant to)-2.826
F .163(use magtape, dump accepts an ar)72 520.8 R .164
(gument telling where to put the dump; you might use another disk.)-.18
F(Some-)5.164 E .24
(times a \214le system has to be increased in logical size without cop)
72 532.8 R 2.74(ying. The)-.1 F(super)2.74 E .24(-block of the de)-.2 F
.24(vice has a)-.25 F -.1(wo)72 544.8 S 1.008(rd gi).1 F 1.008
(ving the highest address which can be allocated.)-.25 F -.15(Fo)6.008 G
3.508(rr).15 G(elati)-3.508 E -.15(ve)-.25 G 1.008
(ly small increases, this w).15 F 1.009(ord can be)-.1 F .283
(patched using the deb)72 556.8 R .283
(ugger \(adb\(1\)\) and the free list reconstructed using icheck\(1\).)
-.2 F .282(The size should not be)5.282 F 1.307(increased v)72 568.8 R
1.307(ery greatly by this technique, ho)-.15 F(we)-.25 E -.15(ve)-.25 G
2.107 -.4(r, s).15 H 1.307
(ince although the allocatable space will increase the).4 F 1.733
(maximum number of \214les will not \(that is, the i-list size can')72
580.8 R 4.232(tb)-.18 G 4.232(ec)-4.232 G 4.232(hanged\). Read)-4.232 F
1.732(and understand the)4.232 F .06(description gi)72 592.8 R -.15(ve)
-.25 G 2.56(ni).15 G 2.56<6e8c>-2.56 G .06
(le system\(5\) before playing around in this w)-2.56 F(ay)-.1 E 5.06
(.Y)-.65 G .06(ou may w)-6.16 F .06(ant to see section rp\(4\) for)-.1 F
(some suggestions on ho)72 604.8 Q 2.5(wt)-.25 G 2.5(ol)-2.5 G
(ay out the information on RP disks.)-2.5 E .189(If you ha)97 620.4 R
.489 -.15(ve t)-.2 H 2.689(om).15 G(er)-2.689 E .189
(ge a \214le system into another)-.18 F 2.689(,e)-.4 G .188
(xisting one, the best bet is to use tar\(1\).)-2.839 F .188
(If you must)5.188 F .055(shrink a \214le system, the best bet is to du\
mp the original and restor it onto the ne)72 632.4 R 2.555<778c>-.25 G
2.555(lesystem. Ho)-2.555 F(we)-.25 E -.15(ve)-.25 G .855 -.4(r, t).15 H
(his).4 E .828(might not w)72 644.4 R .827(ork if the i-list on the sma\
ller \214lesystem is smaller than the maximum allocated inode on the)-.1
F(lar)72 656.4 Q(ger)-.18 E 6.705(.I)-.55 G 4.205(ft)-6.705 G 1.705(his\
 is the case, reconstruct the \214lesystem from scratch on another \214\
lesystem \(perhaps using)-4.205 F .169(tar\(1\)\) and then dump it.)72
668.4 R .169(If you are playing with the root \214le system and only ha)
5.169 F .469 -.15(ve o)-.2 H .169(ne dri).15 F .469 -.15(ve t)-.25 H
.169(he procedure).15 F(is more complicated. What you do is the follo)72
680.4 Q(wing:)-.25 E 15(1. GET)72 696 R 2.5(AS)2.5 G(ECOND P)-2.5 E -.4
(AC)-.92 G(K!!!!).4 E 15(2. Dump)72 711.6 R(the current root \214lesyst\
em \(or the reconstructed one\) using dump\(1\).)2.5 E EP
%%Page: 7 7
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(-7-)282.17 48 Q 15(3. Bring)72 84 R
(the system do)2.5 E(wn and mount the ne)-.25 E 2.5(wp)-.25 G(ack.)-2.5
E 15(4. Retrie)72 99.6 R 1.481 -.15(ve t)-.25 H 1.181(he WECo distrib)
.15 F 1.181(ution tape and perform steps 1 through 5 at the be)-.2 F
1.182(ginning of this docu-)-.15 F(ment, substituting the desired \214l\
e system size instead of 5000 when ask)97 111.6 Q
(ed for `\214le system size'.)-.1 E 15(5. Perform)72 127.2 R .334
(step 6 abo)2.834 F .633 -.15(ve u)-.15 H 2.833(pt).15 G 2.833(ot)-2.833
G .333(he point where the `tape' question is ask)-2.833 F .333
(ed. At this point mount the tape)-.1 F(you made just a fe)97 139.2 Q
2.5(wm)-.25 G(inutes ago. Continue with step 6 abo)-2.5 E .3 -.15(ve s)
-.15 H(ubstituting a 0 \(zero\) for the 5.).15 E/F1 10/Times-Bold@0 SF
(New Users)72 163.2 Q F0 1.446(Install ne)97 178.8 R 3.946(wu)-.25 G
1.446(sers by editing the passw)-3.946 F 1.446
(ord \214le /etc/passwd \(passwd\(5\)\).)-.1 F 1.447
(This procedure should be)6.446 F .841
(done once multi-user mode is entered \(see init\(8\)\).)72 190.8 R -1.1
(Yo)5.841 G(u')1.1 E .841(ll ha)-.1 F 1.141 -.15(ve t)-.2 H 3.34(om).15
G(ak)-3.34 E 3.34(eac)-.1 G .84(urrent directory for each ne)-3.34 F(w)
-.25 E .055(user and change its o)72 202.8 R .055(wner to the ne)-.25 F
.055(wly installed name.)-.25 F .056(Login as each user to mak)5.055 F
2.556(es)-.1 G .056(ure the passw)-2.556 F .056(ord \214le is)-.1 F
(correctly edited.)72 214.8 Q -.15(Fo)5 G 2.5(re).15 G(xample:)-2.65 E
(ed /etc/passwd)108 232.8 Q($a)108 244.8 Q(joe::10:1::/usr/joe:)108
256.8 Q(w)108 268.8 Q(q)108 280.8 Q(mkdir /usr/joe)108 292.8 Q(cho)108
304.8 Q(wn joe /usr/joe)-.25 E(login joe)108 316.8 Q(ls \255la)108 328.8
Q(login root)108 340.8 Q 1.084(This will mak)72 358.8 R 3.584(ean)-.1 G
1.584 -.25(ew l)-3.584 H 1.084
(ogin entry for joe, who should be encouraged to use passwd\(1\) to gi)
.25 F 1.383 -.15(ve h)-.25 H 1.083(imself a).15 F(passw)72 370.8 Q 2.668
(ord. His)-.1 F(def)2.668 E .168
(ault current directory is /usr/joe which has been created.)-.1 F .168
(The deli)5.168 F -.15(ve)-.25 G .168(red passw).15 F .168
(ord \214le has)-.1 F(the user)72 382.8 Q/F2 10/Times-Italic@0 SF(bin)
2.5 E F0(in it to be used as a prototype.)2.5 E F1(Multiple Users)72
406.8 Q F0 .353(If UNIX is to support simultaneous access from more tha\
n just the console terminal, the \214le /etc/ttys)97 422.4 R .218
(\(ttys\(5\)\) has to be edited.)72 434.4 R 1.818 -.8(To a)5.218 H .218
(dd a ne).8 F 2.718(wt)-.25 G .218(erminal be sure the de)-2.718 F .218
(vice is con\214gured and the special \214le e)-.25 F(xists,)-.15 E .587
(then set the \214rst character of the appropriate line of /etc/ttys to\
 1 \(or add a ne)72 446.4 R 3.086(wl)-.25 G 3.086(ine\). Note)-3.086 F
.586(that init.c will)3.086 F(ha)72 458.4 Q .851 -.15(ve t)-.2 H 3.051
(ob).15 G 3.052(er)-3.051 G .552
(ecompiled if there are to be more than 100 terminals.)-3.052 F .552
(Also note that if the special \214le is inac-)5.552 F(cessible when in\
it tries to create a process for it, the system will thrash trying and \
retrying to open it.)72 470.4 Q F1(File System Health)72 494.4 Q F0 .474
(Periodically \(say e)97 510 R -.15(ve)-.25 G .474
(ry day or so\) and al).15 F -.1(wa)-.1 G .473
(ys after a crash, you should check all the \214le systems for).1 F
(consistenc)72 522 Q 3.743(y\()-.15 G 1.243(icheck, dcheck\(1\)\).)
-3.743 F 1.243(It is quite important to e)6.243 F -.15(xe)-.15 G 1.244
(cute sync \(8\) before rebooting or taking the).15 F .76(machine do)72
534 R 3.26(wn. This)-.25 F .76(is done automatically e)3.26 F -.15(ve)
-.25 G .76(ry 30 seconds by the update program \(8\) when a multiple-)
.15 F(user system is running, b)72 546 Q(ut you should do it an)-.2 E
(yw)-.15 E(ay to mak)-.1 E 2.5(es)-.1 G(ure.)-2.5 E .157
(Dumping of the \214le system should be done re)97 561.6 R(gularly)-.15
E 2.657(,s)-.65 G .157(ince once the system is going it is v)-2.657 F
.157(ery easy to)-.15 F .187(become complacent.)72 573.6 R .187
(Complete and incremental dumps are easily done with dump\(1\).)5.187 F
.186(Dumping of \214les by)5.186 F .401(name is best done by tar\(1\) b)
72 585.6 R .401(ut the number of \214les is some)-.2 F .401
(what limited.)-.25 F .401(Finally if there are enough dri)5.401 F -.15
(ve)-.25 G(s).15 E .295(entire disks can be copied using cp\(1\), or pr\
eferably with dd\(1\) using the ra)72 597.6 R 2.794(ws)-.15 G .294
(pecial \214les and an appropri-)-2.794 F(ate block size.)72 609.6 Q F1
(Con)72 633.6 Q -.1(ve)-.4 G(rting Sixth Edition Filesystems).1 E F0
.229(The best w)97 649.2 R .229(ay to con)-.1 F -.15(ve)-.4 G .23(rt \
\214le systems from 6th edition \(V6\) to 7th edition \(V7\) format is \
to use tar\(1\).).15 F(Ho)72 661.2 Q(we)-.25 E -.15(ve)-.25 G .8 -.4
(r, a s).15 H(pecial v).4 E
(ersion of tar must be prepared to run on V6.)-.15 E(The follo)5 E
(wing steps will do this:)-.25 E 15(1. change)72 676.8 R
(directories to /usr/src/cmd/tar)2.5 E 15(2. At)72 692.4 R
(the shell prompt respond)2.5 E(mak)133 710.4 Q 2.5(ev)-.1 G(6tar)-2.5 E
(This will lea)97 728.4 Q .3 -.15(ve a)-.2 H 2.5(ne).15 G -.15(xe)-2.65
G(cutable binary named `v6tar'.).15 E EP
%%Page: 8 8
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(-8-)282.17 48 Q 15(3. Mount)72 84 R 2.5(as)2.5 G
(cratch tape.)-2.5 E 15(4. Use)72 99.6 R
(tp\(1\) to put `v6tar' on the scratch tape.)2.5 E 15(5. Bring)72 115.2
R(do)2.5 E(wn V7 and bring up V6.)-.25 E 15(6. Use)72 130.8 R .241(tp \
\(on V6\) to read in `v6tar'. Put it in /bin or /usr/bin \(or perhaps s\
ome other preferred location\).)2.741 F 15(7. Use)72 146.4 R .195
(v6tar to mak)2.695 F 2.695(et)-.1 G .195
(apes of all that you wish to con)-2.695 F -.15(ve)-.4 G 2.696(rt. Y).15
F .196(ou may w)-1.1 F .196(ant to read the manual section on)-.1 F .347
(tar\(1\) to see whether you w)97 158.4 R .347
(ant to use blocking or not.)-.1 F -.35(Tr)5.347 G 2.847(yt).35 G 2.846
(oa)-2.847 G -.2(vo)-3.046 G .346(id using full pathnames when mak-).2 F
1.496(ing the tapes. This will simplify mo)97 170.4 R 1.496
(ving the hierarch)-.15 F 3.996(yt)-.05 G 3.997(os)-3.996 G 1.497
(ome other place on V7 if desired. F)-3.997 F(or)-.15 E -.15(ex)97 182.4
S(ample).15 E(chdir /usr/k)133 200.4 Q(en)-.1 E(v6tar c .)133 212.4 Q
(is preferable to)97 230.4 Q(v6tar c /usr/k)133 248.4 Q(en)-.1 E 15
(8. After)72 270 R .312(all of the desired tapes are made, bring do)
2.812 F .312(wn V6 and reboot V7. Use tar\(1\) to read in the tapes)-.25
F(just made.)97 282 Q/F1 10/Times-Bold@0 SF(Odds and Ends)72 306 Q F0
1.698(The programs dump, icheck, quot, dcheck, ncheck, and df \(source \
in /usr/source/cmd\) should be)97 321.6 R .304
(changed to re\215ect your def)72 333.6 R .304
(ault mounted \214le system de)-.1 F 2.804(vices. Print)-.25 F .303
(the \214rst fe)2.803 F 2.803(wl)-.25 G .303(ines of these programs and)
-2.803 F(the changes will be ob)72 345.6 Q 2.5(vious. T)-.15 F
(ar should be changed to re\215ect your desired def)-.8 E(ault tape dri)
-.1 E -.15(ve)-.25 G(.).15 E(Good Luck)360 393.6 Q(Charles B. Hale)360
417.6 Q(y)-.15 E(Dennis M. Ritchie)360 429.6 Q EP
%%Trailer
end
%%EOF
